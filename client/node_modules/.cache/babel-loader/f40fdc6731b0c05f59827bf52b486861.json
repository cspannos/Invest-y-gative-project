{"ast":null,"code":"'use strict';\n\nvar DAGLink = require('./../dag-link');\n\nvar _require = require('../util'),\n    cid = _require.cid;\n\nexports = module.exports;\n\nfunction cloneData(dagNode) {\n  var data;\n\n  if (dagNode.data && dagNode.data.length > 0) {\n    data = Buffer.alloc(dagNode.data.length);\n    dagNode.data.copy(data);\n  } else {\n    data = Buffer.alloc(0);\n  }\n\n  return data;\n}\n\nfunction cloneLinks(dagNode) {\n  return dagNode.links.slice();\n}\n\nfunction linkSort(a, b) {\n  return Buffer.compare(a.nameAsBuffer, b.nameAsBuffer);\n}\n/*\n * toDAGLink converts a DAGNode to a DAGLink\n */\n\n\nfunction toDAGLink(node, options, callback) {\n  if (typeof options === 'function') {\n    callback = options;\n    options = {};\n  }\n\n  cid(node, options, function (error, cid) {\n    if (error) {\n      return callback(error);\n    }\n\n    callback(null, new DAGLink(options.name || '', node.size, cid));\n  });\n}\n\nexports.cloneData = cloneData;\nexports.cloneLinks = cloneLinks;\nexports.linkSort = linkSort;\nexports.toDAGLink = toDAGLink;","map":null,"metadata":{},"sourceType":"script"}