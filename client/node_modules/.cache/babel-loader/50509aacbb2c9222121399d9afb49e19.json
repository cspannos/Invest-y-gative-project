{"ast":null,"code":"'use strict';\n\nvar dagNodeUtil = require('./util');\n\nvar cloneLinks = dagNodeUtil.cloneLinks;\nvar cloneData = dagNodeUtil.cloneData;\n\nvar create = require('./create');\n\nvar CID = require('cids');\n\nfunction rmLink(dagNode, nameOrCid, callback) {\n  var data = cloneData(dagNode);\n  var links = cloneLinks(dagNode);\n\n  if (typeof nameOrCid === 'string') {\n    links = links.filter(function (link) {\n      return link.name !== nameOrCid;\n    });\n  } else if (Buffer.isBuffer(nameOrCid) || CID.isCID(nameOrCid)) {\n    links = links.filter(function (link) {\n      return !link.cid.equals(nameOrCid);\n    });\n  } else {\n    return callback(new Error('second arg needs to be a name or CID'), null);\n  }\n\n  create(data, links, callback);\n}\n\nmodule.exports = rmLink;","map":null,"metadata":{},"sourceType":"script"}